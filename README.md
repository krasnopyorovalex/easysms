# easy-sms test

## Использование

Скопировать файл для конфигурации

``` bash
$ copy .env.example .env
```

Запустить composer для установки зависимостей

``` bash
$ composer install
```

Запустить скрипт для генерации тестовых данных или импортировать дамп базы - easysms.sql.gz

``` bash
$ php bin/console db:set-data
```
## Список методов API

- /api/v1/authors/{id}/news
    - выдача всех новостей конкретного автора
    - id - идентификатор автора, целое число
``` json 
{
  "data": [
    {
      "title": "Стройка нового учатска дороги.",
      "preview": "Превью новости",
      "text": "Текст новости"
    }
  ]
} 
```
- /api/v1/categories/{id}/news
     - выдача списка всех новостей, которые относятся к указанной рубрике
     - id - идентификатор рубрики, целое число
``` json 
{
  "data": [
    {
      "title": "Стройка нового учатска дороги.",
      "preview": "Превью новости",
      "text": "Текст новости"
    }
  ]
} 
```
- /api/v1/authors
     - выдача списка авторов
``` json 
{
  "data": [
    {
      "fio": "Королёва Ирина Дмитриевна",
      "avatar": "https://lorempixel.com/120/120/?39429",
      "signature": "С уважением, Королёва Ирина Дмитриевна"
    }
  ]
} 
```
- /api/v1/news/{id}/view
     - выдача информации о статьях по их идентификаторам
     - id - идентификатор новости, целое число
``` json 
{
  "data": {
    "title": "Стройка нового участка дороги",
    "preview": "Аршавского портного; где магазин с картузами, фуражками и надписью: «Иностранец Василий Федоров».",
    "text": "Он дал им минуту отдохнуть, после чего они пошли сами собою. Во все продолжение этой проделки Чичиков глядел очень внимательно глядел на них фрак не так чтобы слишком толстые, однако ж и не прекословила. — Есть из чего это все народ мертвый. Мертвым телом хоть забор подпирай, — говорит пословица. — Да, я не думаю. Что ж делать? Русский человек, да еще и пообедает с вами! Право, словно какая-нибудь, не говоря — дурного слова, дворняжка, что лежит на сене и сам никак не хотел выходить из колеи, в которую попал непредвиденными судьбами, и, положивши свою морду на шею своего нового приятеля, казалось, что-то нашептывал ему в самое ухо, вероятно, чепуху страшную, потому что в этом уверяю по истинной совести. — Пусть его едет, что в них: все такая мелюзга; а заседатель подъехал — — продолжал."
  }
}
```
- /api/v1/news/search?keyword=Стройка
     - поиск новости по названию
     - keyword - get-параметр для передачи строки, по которой будет происходить поиск
``` json 
{
  "data": [
    {
      "title": "Стройка нового учатска дороги.",
      "preview": "Превью новости",
      "text": "Текст новости"
    }
  ]
} 
```

- /api/v1/categories/{id}/news/search?keyword=Стройка
     - искать новости по рубрике, не включая дочерние
     - id - идентификатор категории, целое число
     - keyword - get-параметр для передачи строки, по которой будет происходить поиск
``` json 
{
  "data": [
    {
      "title": "Стройка нового учатска дороги.",
      "preview": "Превью новости",
      "text": "Текст новости"
    }
  ]
} 
```
- /api/v1/categories/{id}/news/search?keyword=Стройка&with-child=true
     - искать новости по рубрике, включая дочерние 
     - id - идентификатор категории, целое число
     - keyword - get-параметр для передачи строки, по которой будет происходить поиск
     - with-child - get-параметр. Указать true для поиска в дочерних категориях
``` json 
{
  "data": [
    {
      "title": "Стройка нового учатска дороги.",
      "preview": "Превью новости",
      "text": "Текст новости"
    }
  ]
} 
```
